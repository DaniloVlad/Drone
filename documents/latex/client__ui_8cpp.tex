\hypertarget{client__ui_8cpp}{}\doxysection{client\+\_\+ui.\+cpp File Reference}
\label{client__ui_8cpp}\index{client\_ui.cpp@{client\_ui.cpp}}
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$gtk/gtk.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$pthread.\+h$>$}\newline
{\ttfamily \#include \char`\"{}include/\+Client.\+h\char`\"{}}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct__cmd}{\+\_\+cmd}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef enum \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01}{inst}} \mbox{\hyperlink{client__ui_8cpp_afaad9edd01e5eae527aa8b1410917c53}{I\+N\+S\+T\+R\+U\+C\+T\+I\+ON}}
\item 
typedef struct \mbox{\hyperlink{struct__cmd}{\+\_\+cmd}} \mbox{\hyperlink{client__ui_8cpp_aa3f57b768d8069af4663c734cf23ccd1}{C\+O\+M\+M\+A\+ND}}
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01}{inst}} \{ \newline
\mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a6643e048d366f1bf4b295753c3442c18}{R\+O\+T\+\_\+L}}, 
\mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01af575a864df0da482f318fff12d97c785}{R\+O\+T\+\_\+R}}, 
\mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01affeb212e39b048286e52f720c6527dbd}{A\+C\+C\+\_\+F}}, 
\mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01aab2e16cd9b0e7d7a0c457bf9426212f2}{A\+C\+C\+\_\+B}}, 
\newline
\mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a5895505082ec361adebdce3f503ac04f}{A\+C\+C\+\_\+L}}, 
\mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a67194eb3d5dd79c61c0b8c29530e7105}{A\+C\+C\+\_\+R}}, 
\mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01ae9ec39715b515cb7a00034bced1c1ad4}{R\+A\+I\+SE}}, 
\mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01aa1017e9b343135a54a98b6f479354d16}{L\+O\+W\+ER}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{client__ui_8cpp_a2eb771fa3527f72e821a14e413498d1d}{print\+\_\+instructions}} ()
\begin{DoxyCompactList}\small\item\em 
\begin{DoxyItemize}
\item print availible commands 
\end{DoxyItemize}\end{DoxyCompactList}\item 
void $\ast$ \mbox{\hyperlink{client__ui_8cpp_af448fd71359b064e13e85a8cd633f6e5}{instruction\+\_\+handler}} (void $\ast$varg)
\begin{DoxyCompactList}\small\item\em 
\begin{DoxyItemize}
\item threaded function started by key press and exits upon key release 
\end{DoxyItemize}\end{DoxyCompactList}\item 
gboolean \mbox{\hyperlink{client__ui_8cpp_acb5a71cb01830070b0dd6936fc8074dd}{handle\+\_\+key\+\_\+release}} (Gtk\+Widget $\ast$widget, Gdk\+Event\+Key $\ast$event, gpointer data)
\begin{DoxyCompactList}\small\item\em 
\begin{DoxyItemize}
\item certain key releases need to set their respective thread id to kill the thread 
\end{DoxyItemize}\end{DoxyCompactList}\item 
gboolean \mbox{\hyperlink{client__ui_8cpp_a2c99f85a841be8692b26638e632a31d9}{handle\+\_\+key\+\_\+press}} (Gtk\+Widget $\ast$widget, Gdk\+Event\+Key $\ast$event, gpointer data)
\begin{DoxyCompactList}\small\item\em 
\begin{DoxyItemize}
\item Function is called multiple times if key is being held 
\end{DoxyItemize}\end{DoxyCompactList}\item 
static void \mbox{\hyperlink{client__ui_8cpp_ac8d185b1db8b0153f14fd5cb4537cf2a}{activate}} (Gtk\+Application $\ast$app, gpointer user\+\_\+data)
\begin{DoxyCompactList}\small\item\em 
\begin{DoxyItemize}
\item creates the windows and sets it to have the ability to get key presses 
\end{DoxyItemize}\end{DoxyCompactList}\item 
int \mbox{\hyperlink{client__ui_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em 
\begin{DoxyItemize}
\item the main function which performs the operations required to create the client ui 
\end{DoxyItemize}\end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
char \mbox{\hyperlink{client__ui_8cpp_a2a15dfd02dcdec7139f585ff093f2088}{addr}} \mbox{[}13\mbox{]} = \char`\"{}192.\+168.\+4.\+1\char`\"{}
\item 
\mbox{\hyperlink{classClient}{Client}} $\ast$ \mbox{\hyperlink{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}{client}} = new \mbox{\hyperlink{classClient}{Client}}(8080, \mbox{\hyperlink{client__ui_8cpp_a2a15dfd02dcdec7139f585ff093f2088}{addr}})
\item 
int \mbox{\hyperlink{client__ui_8cpp_a6d4dd5d08566b9fb2a4655ce7e490025}{calibration}} = 0
\item 
pthread\+\_\+t \mbox{\hyperlink{client__ui_8cpp_abbc25cf9b87d0d6e4b01d52c6bf3fe0c}{rotateL}} = 0
\item 
pthread\+\_\+t \mbox{\hyperlink{client__ui_8cpp_a86a477086cc43e84ea4c0d2ee883a4ce}{rotateR}} = 0
\item 
pthread\+\_\+t \mbox{\hyperlink{client__ui_8cpp_abf637c999af38140b0f56d012a70ed6a}{up}} = 0
\item 
pthread\+\_\+t \mbox{\hyperlink{client__ui_8cpp_a869b58af2dc776cd009ac76a6ae5a42d}{lower}} = 0
\item 
pthread\+\_\+t \mbox{\hyperlink{client__ui_8cpp_adaa9c5d3467b7684da9ecf0cb95473ab}{move\+Forward}} = 0
\item 
pthread\+\_\+t \mbox{\hyperlink{client__ui_8cpp_a61837383098a58ba9a0bd272c13f8d29}{move\+Backward}} = 0
\item 
pthread\+\_\+t \mbox{\hyperlink{client__ui_8cpp_a24170f23f79cb7e835149360169459f5}{move\+Left}} = 0
\item 
pthread\+\_\+t \mbox{\hyperlink{client__ui_8cpp_ab31c05ec01cddd6149a0c37f5c9bae15}{move\+Right}} = 0
\item 
pthread\+\_\+mutex\+\_\+t \mbox{\hyperlink{client__ui_8cpp_a0abaf4b5d42c4e5d19190035fade3599}{lock}}
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{client__ui_8cpp_aa3f57b768d8069af4663c734cf23ccd1}\label{client__ui_8cpp_aa3f57b768d8069af4663c734cf23ccd1}} 
\index{client\_ui.cpp@{client\_ui.cpp}!COMMAND@{COMMAND}}
\index{COMMAND@{COMMAND}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{COMMAND}{COMMAND}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct__cmd}{\+\_\+cmd}}  \mbox{\hyperlink{client__ui_8cpp_aa3f57b768d8069af4663c734cf23ccd1}{C\+O\+M\+M\+A\+ND}}}

\mbox{\Hypertarget{client__ui_8cpp_afaad9edd01e5eae527aa8b1410917c53}\label{client__ui_8cpp_afaad9edd01e5eae527aa8b1410917c53}} 
\index{client\_ui.cpp@{client\_ui.cpp}!INSTRUCTION@{INSTRUCTION}}
\index{INSTRUCTION@{INSTRUCTION}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{INSTRUCTION}{INSTRUCTION}}
{\footnotesize\ttfamily typedef enum \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01}{inst}}  \mbox{\hyperlink{client__ui_8cpp_afaad9edd01e5eae527aa8b1410917c53}{I\+N\+S\+T\+R\+U\+C\+T\+I\+ON}}}



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01}\label{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01}} 
\index{client\_ui.cpp@{client\_ui.cpp}!inst@{inst}}
\index{inst@{inst}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{inst}{inst}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01}{inst}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{ROT\_L@{ROT\_L}!client\_ui.cpp@{client\_ui.cpp}}\index{client\_ui.cpp@{client\_ui.cpp}!ROT\_L@{ROT\_L}}}\mbox{\Hypertarget{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a6643e048d366f1bf4b295753c3442c18}\label{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a6643e048d366f1bf4b295753c3442c18}} 
R\+O\+T\+\_\+L&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ROT\_R@{ROT\_R}!client\_ui.cpp@{client\_ui.cpp}}\index{client\_ui.cpp@{client\_ui.cpp}!ROT\_R@{ROT\_R}}}\mbox{\Hypertarget{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01af575a864df0da482f318fff12d97c785}\label{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01af575a864df0da482f318fff12d97c785}} 
R\+O\+T\+\_\+R&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ACC\_F@{ACC\_F}!client\_ui.cpp@{client\_ui.cpp}}\index{client\_ui.cpp@{client\_ui.cpp}!ACC\_F@{ACC\_F}}}\mbox{\Hypertarget{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01affeb212e39b048286e52f720c6527dbd}\label{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01affeb212e39b048286e52f720c6527dbd}} 
A\+C\+C\+\_\+F&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ACC\_B@{ACC\_B}!client\_ui.cpp@{client\_ui.cpp}}\index{client\_ui.cpp@{client\_ui.cpp}!ACC\_B@{ACC\_B}}}\mbox{\Hypertarget{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01aab2e16cd9b0e7d7a0c457bf9426212f2}\label{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01aab2e16cd9b0e7d7a0c457bf9426212f2}} 
A\+C\+C\+\_\+B&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ACC\_L@{ACC\_L}!client\_ui.cpp@{client\_ui.cpp}}\index{client\_ui.cpp@{client\_ui.cpp}!ACC\_L@{ACC\_L}}}\mbox{\Hypertarget{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a5895505082ec361adebdce3f503ac04f}\label{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a5895505082ec361adebdce3f503ac04f}} 
A\+C\+C\+\_\+L&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ACC\_R@{ACC\_R}!client\_ui.cpp@{client\_ui.cpp}}\index{client\_ui.cpp@{client\_ui.cpp}!ACC\_R@{ACC\_R}}}\mbox{\Hypertarget{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a67194eb3d5dd79c61c0b8c29530e7105}\label{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a67194eb3d5dd79c61c0b8c29530e7105}} 
A\+C\+C\+\_\+R&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{RAISE@{RAISE}!client\_ui.cpp@{client\_ui.cpp}}\index{client\_ui.cpp@{client\_ui.cpp}!RAISE@{RAISE}}}\mbox{\Hypertarget{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01ae9ec39715b515cb7a00034bced1c1ad4}\label{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01ae9ec39715b515cb7a00034bced1c1ad4}} 
R\+A\+I\+SE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOWER@{LOWER}!client\_ui.cpp@{client\_ui.cpp}}\index{client\_ui.cpp@{client\_ui.cpp}!LOWER@{LOWER}}}\mbox{\Hypertarget{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01aa1017e9b343135a54a98b6f479354d16}\label{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01aa1017e9b343135a54a98b6f479354d16}} 
L\+O\+W\+ER&\\
\hline

\end{DoxyEnumFields}

\begin{DoxyCode}{0}
\DoxyCodeLine{22                   \{}
\DoxyCodeLine{23     \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a6643e048d366f1bf4b295753c3442c18}{ROT\_L}},}
\DoxyCodeLine{24     \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01af575a864df0da482f318fff12d97c785}{ROT\_R}},}
\DoxyCodeLine{25     \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01affeb212e39b048286e52f720c6527dbd}{ACC\_F}},}
\DoxyCodeLine{26     \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01aab2e16cd9b0e7d7a0c457bf9426212f2}{ACC\_B}},}
\DoxyCodeLine{27     \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a5895505082ec361adebdce3f503ac04f}{ACC\_L}},}
\DoxyCodeLine{28     \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a67194eb3d5dd79c61c0b8c29530e7105}{ACC\_R}},}
\DoxyCodeLine{29     \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01ae9ec39715b515cb7a00034bced1c1ad4}{RAISE}},}
\DoxyCodeLine{30     \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01aa1017e9b343135a54a98b6f479354d16}{LOWER}}}
\DoxyCodeLine{31 \} \mbox{\hyperlink{client__ui_8cpp_afaad9edd01e5eae527aa8b1410917c53}{INSTRUCTION}};}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{client__ui_8cpp_ac8d185b1db8b0153f14fd5cb4537cf2a}\label{client__ui_8cpp_ac8d185b1db8b0153f14fd5cb4537cf2a}} 
\index{client\_ui.cpp@{client\_ui.cpp}!activate@{activate}}
\index{activate@{activate}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{activate()}{activate()}}
{\footnotesize\ttfamily static void activate (\begin{DoxyParamCaption}\item[{Gtk\+Application $\ast$}]{app,  }\item[{gpointer}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}




\begin{DoxyItemize}
\item creates the windows and sets it to have the ability to get key presses 
\end{DoxyItemize}

activate function 
\begin{DoxyParams}{Parameters}
{\em app} & -\/ a pointer to create the window linked with it \\
\hline
{\em user\+\_\+data} & -\/ a gpointer object containing user data \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{272 \{}
\DoxyCodeLine{273   GtkWidget *window;}
\DoxyCodeLine{274 }
\DoxyCodeLine{275   window = gtk\_application\_window\_new (app);}
\DoxyCodeLine{276   gtk\_window\_set\_title (GTK\_WINDOW (window), \textcolor{stringliteral}{"Window"});}
\DoxyCodeLine{277   gtk\_window\_set\_default\_size (GTK\_WINDOW (window), 200, 200);}
\DoxyCodeLine{278   }
\DoxyCodeLine{279   \textcolor{comment}{//add key press events to the window}}
\DoxyCodeLine{280   gtk\_widget\_add\_events(window, GDK\_KEY\_PRESS\_MASK);  }
\DoxyCodeLine{281   \textcolor{comment}{//connect key press and key release to proper functions}}
\DoxyCodeLine{282   g\_signal\_connect (G\_OBJECT (window), \textcolor{stringliteral}{"key\_press\_event"}, G\_CALLBACK (\mbox{\hyperlink{client__ui_8cpp_a2c99f85a841be8692b26638e632a31d9}{handle\_key\_press}}), NULL);}
\DoxyCodeLine{283   g\_signal\_connect (G\_OBJECT (window), \textcolor{stringliteral}{"key\_release\_event"}, G\_CALLBACK (\mbox{\hyperlink{client__ui_8cpp_acb5a71cb01830070b0dd6936fc8074dd}{handle\_key\_release}}), NULL);}
\DoxyCodeLine{284 }
\DoxyCodeLine{285   \textcolor{comment}{//show the window}}
\DoxyCodeLine{286   gtk\_widget\_show\_all (window);}
\DoxyCodeLine{287 \}}

\end{DoxyCode}
\mbox{\Hypertarget{client__ui_8cpp_a2c99f85a841be8692b26638e632a31d9}\label{client__ui_8cpp_a2c99f85a841be8692b26638e632a31d9}} 
\index{client\_ui.cpp@{client\_ui.cpp}!handle\_key\_press@{handle\_key\_press}}
\index{handle\_key\_press@{handle\_key\_press}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{handle\_key\_press()}{handle\_key\_press()}}
{\footnotesize\ttfamily gboolean handle\+\_\+key\+\_\+press (\begin{DoxyParamCaption}\item[{Gtk\+Widget $\ast$}]{widget,  }\item[{Gdk\+Event\+Key $\ast$}]{event,  }\item[{gpointer}]{data }\end{DoxyParamCaption})}




\begin{DoxyItemize}
\item Function is called multiple times if key is being held 
\end{DoxyItemize}

handle\+\_\+key\+\_\+press function 
\begin{DoxyParams}{Parameters}
{\em widget} & -\/ the pointer for the widget that we are using \\
\hline
{\em event} & -\/ the pointer to the key event \\
\hline
{\em data} & -\/ \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{168                                                                                  \{}
\DoxyCodeLine{169   \textcolor{comment}{//command structure stores the instruction and a pointer to the thread id}}
\DoxyCodeLine{170   \textcolor{comment}{//which is used in the instruction\_handler while loop}}
\DoxyCodeLine{171   \mbox{\hyperlink{struct__cmd}{COMMAND}} cmd;}
\DoxyCodeLine{172 }
\DoxyCodeLine{173   \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_A || event -\/> keyval == GDK\_KEY\_a \&\& \mbox{\hyperlink{client__ui_8cpp_abbc25cf9b87d0d6e4b01d52c6bf3fe0c}{rotateL}} == 0) \{}
\DoxyCodeLine{174     cmd.\mbox{\hyperlink{struct__cmd_a78da59b3c6ebf1c677dc09dd81147c52}{ins}} = \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a6643e048d366f1bf4b295753c3442c18}{ROT\_L}};}
\DoxyCodeLine{175     cmd.\mbox{\hyperlink{struct__cmd_af863118dbaad96a0858687077ca76fd5}{tid}} = \&\mbox{\hyperlink{client__ui_8cpp_abbc25cf9b87d0d6e4b01d52c6bf3fe0c}{rotateL}};}
\DoxyCodeLine{176     pthread\_create(\&\mbox{\hyperlink{client__ui_8cpp_abbc25cf9b87d0d6e4b01d52c6bf3fe0c}{rotateL}}, NULL, (\mbox{\hyperlink{client__ui_8cpp_af448fd71359b064e13e85a8cd633f6e5}{instruction\_handler}}), (\textcolor{keywordtype}{void} *) \&cmd);}
\DoxyCodeLine{177 }
\DoxyCodeLine{178   \}}
\DoxyCodeLine{179 }
\DoxyCodeLine{180   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_S || event -\/> keyval == GDK\_KEY\_s  \&\& \mbox{\hyperlink{client__ui_8cpp_a869b58af2dc776cd009ac76a6ae5a42d}{lower}} == 0) \{}
\DoxyCodeLine{181     cmd.\mbox{\hyperlink{struct__cmd_a78da59b3c6ebf1c677dc09dd81147c52}{ins}} = \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01aa1017e9b343135a54a98b6f479354d16}{LOWER}};}
\DoxyCodeLine{182     cmd.\mbox{\hyperlink{struct__cmd_af863118dbaad96a0858687077ca76fd5}{tid}} = \&\mbox{\hyperlink{client__ui_8cpp_a869b58af2dc776cd009ac76a6ae5a42d}{lower}};}
\DoxyCodeLine{183     pthread\_create(\&\mbox{\hyperlink{client__ui_8cpp_a869b58af2dc776cd009ac76a6ae5a42d}{lower}}, NULL, (\mbox{\hyperlink{client__ui_8cpp_af448fd71359b064e13e85a8cd633f6e5}{instruction\_handler}}), (\textcolor{keywordtype}{void} *) \&cmd);}
\DoxyCodeLine{184   \}}
\DoxyCodeLine{185 }
\DoxyCodeLine{186   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_W || event -\/> keyval == GDK\_KEY\_w  \&\& \mbox{\hyperlink{client__ui_8cpp_abf637c999af38140b0f56d012a70ed6a}{up}} == 0) \{}
\DoxyCodeLine{187     cmd.\mbox{\hyperlink{struct__cmd_a78da59b3c6ebf1c677dc09dd81147c52}{ins}} = \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01ae9ec39715b515cb7a00034bced1c1ad4}{RAISE}};}
\DoxyCodeLine{188     cmd.\mbox{\hyperlink{struct__cmd_af863118dbaad96a0858687077ca76fd5}{tid}} = \&\mbox{\hyperlink{client__ui_8cpp_abf637c999af38140b0f56d012a70ed6a}{up}};}
\DoxyCodeLine{189     pthread\_create(\&\mbox{\hyperlink{client__ui_8cpp_abf637c999af38140b0f56d012a70ed6a}{up}}, NULL, (\mbox{\hyperlink{client__ui_8cpp_af448fd71359b064e13e85a8cd633f6e5}{instruction\_handler}}), (\textcolor{keywordtype}{void} *) \&cmd);}
\DoxyCodeLine{190   \}}
\DoxyCodeLine{191 }
\DoxyCodeLine{192   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_D || event -\/> keyval == GDK\_KEY\_d  \&\& \mbox{\hyperlink{client__ui_8cpp_a86a477086cc43e84ea4c0d2ee883a4ce}{rotateR}} == 0) \{}
\DoxyCodeLine{193     cmd.\mbox{\hyperlink{struct__cmd_a78da59b3c6ebf1c677dc09dd81147c52}{ins}} = \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01af575a864df0da482f318fff12d97c785}{ROT\_R}};}
\DoxyCodeLine{194     cmd.\mbox{\hyperlink{struct__cmd_af863118dbaad96a0858687077ca76fd5}{tid}} = \&\mbox{\hyperlink{client__ui_8cpp_a86a477086cc43e84ea4c0d2ee883a4ce}{rotateR}};}
\DoxyCodeLine{195     pthread\_create(\&\mbox{\hyperlink{client__ui_8cpp_a86a477086cc43e84ea4c0d2ee883a4ce}{rotateR}}, NULL, (\mbox{\hyperlink{client__ui_8cpp_af448fd71359b064e13e85a8cd633f6e5}{instruction\_handler}}), (\textcolor{keywordtype}{void} *) \&cmd);}
\DoxyCodeLine{196   \}}
\DoxyCodeLine{197 }
\DoxyCodeLine{198   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_Up \&\& \mbox{\hyperlink{client__ui_8cpp_adaa9c5d3467b7684da9ecf0cb95473ab}{moveForward}} == 0) \{}
\DoxyCodeLine{199     cmd.\mbox{\hyperlink{struct__cmd_a78da59b3c6ebf1c677dc09dd81147c52}{ins}} = \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01affeb212e39b048286e52f720c6527dbd}{ACC\_F}};}
\DoxyCodeLine{200     cmd.\mbox{\hyperlink{struct__cmd_af863118dbaad96a0858687077ca76fd5}{tid}} = \&\mbox{\hyperlink{client__ui_8cpp_adaa9c5d3467b7684da9ecf0cb95473ab}{moveForward}};}
\DoxyCodeLine{201     pthread\_create(\&\mbox{\hyperlink{client__ui_8cpp_adaa9c5d3467b7684da9ecf0cb95473ab}{moveForward}}, NULL, (\mbox{\hyperlink{client__ui_8cpp_af448fd71359b064e13e85a8cd633f6e5}{instruction\_handler}}), (\textcolor{keywordtype}{void} *) \&cmd);}
\DoxyCodeLine{202   \}}
\DoxyCodeLine{203 }
\DoxyCodeLine{204   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_Down \&\& \mbox{\hyperlink{client__ui_8cpp_a61837383098a58ba9a0bd272c13f8d29}{moveBackward}} == 0) \{}
\DoxyCodeLine{205     cmd.\mbox{\hyperlink{struct__cmd_a78da59b3c6ebf1c677dc09dd81147c52}{ins}} = \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01aab2e16cd9b0e7d7a0c457bf9426212f2}{ACC\_B}};}
\DoxyCodeLine{206     cmd.\mbox{\hyperlink{struct__cmd_af863118dbaad96a0858687077ca76fd5}{tid}} = \&\mbox{\hyperlink{client__ui_8cpp_a61837383098a58ba9a0bd272c13f8d29}{moveBackward}};}
\DoxyCodeLine{207     pthread\_create(\&\mbox{\hyperlink{client__ui_8cpp_a61837383098a58ba9a0bd272c13f8d29}{moveBackward}}, NULL, (\mbox{\hyperlink{client__ui_8cpp_af448fd71359b064e13e85a8cd633f6e5}{instruction\_handler}}), (\textcolor{keywordtype}{void} *) \&cmd);}
\DoxyCodeLine{208   \}}
\DoxyCodeLine{209 }
\DoxyCodeLine{210   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_Left \&\& \mbox{\hyperlink{client__ui_8cpp_a24170f23f79cb7e835149360169459f5}{moveLeft}} == 0) \{}
\DoxyCodeLine{211     cmd.\mbox{\hyperlink{struct__cmd_a78da59b3c6ebf1c677dc09dd81147c52}{ins}} = \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a5895505082ec361adebdce3f503ac04f}{ACC\_L}};}
\DoxyCodeLine{212     cmd.\mbox{\hyperlink{struct__cmd_af863118dbaad96a0858687077ca76fd5}{tid}} = \&\mbox{\hyperlink{client__ui_8cpp_a24170f23f79cb7e835149360169459f5}{moveLeft}};}
\DoxyCodeLine{213     pthread\_create(\&\mbox{\hyperlink{client__ui_8cpp_a24170f23f79cb7e835149360169459f5}{moveLeft}}, NULL, (\mbox{\hyperlink{client__ui_8cpp_af448fd71359b064e13e85a8cd633f6e5}{instruction\_handler}}), (\textcolor{keywordtype}{void} *) \&cmd);}
\DoxyCodeLine{214   \}}
\DoxyCodeLine{215 }
\DoxyCodeLine{216   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_Right \&\& \mbox{\hyperlink{client__ui_8cpp_ab31c05ec01cddd6149a0c37f5c9bae15}{moveRight}} == 0) \{}
\DoxyCodeLine{217     cmd.\mbox{\hyperlink{struct__cmd_a78da59b3c6ebf1c677dc09dd81147c52}{ins}} = \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a67194eb3d5dd79c61c0b8c29530e7105}{ACC\_R}};}
\DoxyCodeLine{218     cmd.\mbox{\hyperlink{struct__cmd_af863118dbaad96a0858687077ca76fd5}{tid}} = \&\mbox{\hyperlink{client__ui_8cpp_ab31c05ec01cddd6149a0c37f5c9bae15}{moveRight}};}
\DoxyCodeLine{219     pthread\_create(\&\mbox{\hyperlink{client__ui_8cpp_ab31c05ec01cddd6149a0c37f5c9bae15}{moveRight}}, NULL, (\mbox{\hyperlink{client__ui_8cpp_af448fd71359b064e13e85a8cd633f6e5}{instruction\_handler}}), (\textcolor{keywordtype}{void} *) \&cmd);}
\DoxyCodeLine{220   \}}
\DoxyCodeLine{221 }
\DoxyCodeLine{222   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_X || event -\/> keyval == GDK\_KEY\_x) \{}
\DoxyCodeLine{223     std::cout << \textcolor{stringliteral}{"Turning motors off!"} << std::endl; }
\DoxyCodeLine{224     \textcolor{keywordtype}{char} \mbox{\hyperlink{namespaceAccel__tests_a0c55325e41653a28356a1d0e717143c7}{x}} = \textcolor{charliteral}{'x'};}
\DoxyCodeLine{225     \mbox{\hyperlink{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}{client}} -\/> send(\&\mbox{\hyperlink{namespaceAccel__tests_a0c55325e41653a28356a1d0e717143c7}{x}}, 1);}
\DoxyCodeLine{226   \}}
\DoxyCodeLine{227 }
\DoxyCodeLine{228   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_C || event -\/> keyval == GDK\_KEY\_c) \{}
\DoxyCodeLine{229     \textcolor{keywordtype}{char} c = \textcolor{charliteral}{'c'};}
\DoxyCodeLine{230     \textcolor{keywordflow}{if}(\mbox{\hyperlink{client__ui_8cpp_a6d4dd5d08566b9fb2a4655ce7e490025}{calibration}} == 0) \{}
\DoxyCodeLine{231       std::cout << \textcolor{stringliteral}{"Starting calibration."} << std::endl;}
\DoxyCodeLine{232      \mbox{\hyperlink{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}{client}} -\/> send(\&c, 1);}
\DoxyCodeLine{233      std::cout << \textcolor{stringliteral}{"Please connect the battery and press c again once the beeping is completed!"} << std::endl;}
\DoxyCodeLine{234      \mbox{\hyperlink{client__ui_8cpp_a6d4dd5d08566b9fb2a4655ce7e490025}{calibration}} = 1;}
\DoxyCodeLine{235     \}}
\DoxyCodeLine{236 }
\DoxyCodeLine{237     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\mbox{\hyperlink{client__ui_8cpp_a6d4dd5d08566b9fb2a4655ce7e490025}{calibration}} == 1) \{}
\DoxyCodeLine{238       std::cout << \textcolor{stringliteral}{"Wait for the beeps to complete and you can start flying the drone!"} << std::endl;}
\DoxyCodeLine{239       \mbox{\hyperlink{client__ui_8cpp_a6d4dd5d08566b9fb2a4655ce7e490025}{calibration}} = 2;}
\DoxyCodeLine{240     \}}
\DoxyCodeLine{241 }
\DoxyCodeLine{242     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{243       std::cout << \textcolor{stringliteral}{"Calibration already completed. Start flying!"} << std::endl;}
\DoxyCodeLine{244     \}}
\DoxyCodeLine{245   \}}
\DoxyCodeLine{246 }
\DoxyCodeLine{247   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_H || event -\/> keyval == GDK\_KEY\_h) \{}
\DoxyCodeLine{248     std::cout << \textcolor{stringliteral}{"You are testing the expiremental hover hold! Press h to cancel it before executing other commands!"} << std::endl;}
\DoxyCodeLine{249     \textcolor{keywordtype}{char} h = \textcolor{charliteral}{'h'};}
\DoxyCodeLine{250     \mbox{\hyperlink{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}{client}} -\/> send(\&h, 1);}
\DoxyCodeLine{251   \}}
\DoxyCodeLine{252 }
\DoxyCodeLine{253   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_L || event -\/> keyval == GDK\_KEY\_l) \{}
\DoxyCodeLine{254     std::cout << \textcolor{stringliteral}{"Landing initiated. Reducing motor speeds. Press x once landed to turn off motors"} << std::endl;}
\DoxyCodeLine{255     \textcolor{keywordtype}{char} l = \textcolor{charliteral}{'l'};}
\DoxyCodeLine{256     \mbox{\hyperlink{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}{client}} -\/> send(\&l, 1);}
\DoxyCodeLine{257   \}}
\DoxyCodeLine{258   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_I || event -\/> keyval == GDK\_KEY\_i) \{}
\DoxyCodeLine{259     \mbox{\hyperlink{client__ui_8cpp_a2eb771fa3527f72e821a14e413498d1d}{print\_instructions}}();}
\DoxyCodeLine{260   \}}
\DoxyCodeLine{261 }
\DoxyCodeLine{262   \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{263 \}}

\end{DoxyCode}
\mbox{\Hypertarget{client__ui_8cpp_acb5a71cb01830070b0dd6936fc8074dd}\label{client__ui_8cpp_acb5a71cb01830070b0dd6936fc8074dd}} 
\index{client\_ui.cpp@{client\_ui.cpp}!handle\_key\_release@{handle\_key\_release}}
\index{handle\_key\_release@{handle\_key\_release}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{handle\_key\_release()}{handle\_key\_release()}}
{\footnotesize\ttfamily gboolean handle\+\_\+key\+\_\+release (\begin{DoxyParamCaption}\item[{Gtk\+Widget $\ast$}]{widget,  }\item[{Gdk\+Event\+Key $\ast$}]{event,  }\item[{gpointer}]{data }\end{DoxyParamCaption})}




\begin{DoxyItemize}
\item certain key releases need to set their respective thread id to kill the thread 
\end{DoxyItemize}

handle\+\_\+key\+\_\+release function 
\begin{DoxyParams}{Parameters}
{\em widget} & -\/ pointer to the widget in use \\
\hline
{\em event} & -\/ pointer to the key event \\
\hline
{\em data} & -\/ data that was send \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{126                                                                                   \{}
\DoxyCodeLine{127   pthread\_t *\textcolor{keywordtype}{id} = NULL;}
\DoxyCodeLine{128 }
\DoxyCodeLine{129   \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_A || event -\/> keyval == GDK\_KEY\_a)}
\DoxyCodeLine{130     \textcolor{keywordtype}{id} = \&\mbox{\hyperlink{client__ui_8cpp_abbc25cf9b87d0d6e4b01d52c6bf3fe0c}{rotateL}};}
\DoxyCodeLine{131   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_S || event -\/> keyval == GDK\_KEY\_s)}
\DoxyCodeLine{132     \textcolor{keywordtype}{id} = \&\mbox{\hyperlink{client__ui_8cpp_a869b58af2dc776cd009ac76a6ae5a42d}{lower}};}
\DoxyCodeLine{133   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_W || event -\/> keyval == GDK\_KEY\_w)}
\DoxyCodeLine{134     \textcolor{keywordtype}{id} = \&\mbox{\hyperlink{client__ui_8cpp_abf637c999af38140b0f56d012a70ed6a}{up}};}
\DoxyCodeLine{135 }
\DoxyCodeLine{136   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_D || event -\/> keyval == GDK\_KEY\_d )}
\DoxyCodeLine{137     \textcolor{keywordtype}{id} = \&\mbox{\hyperlink{client__ui_8cpp_a86a477086cc43e84ea4c0d2ee883a4ce}{rotateR}};}
\DoxyCodeLine{138 }
\DoxyCodeLine{139   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_Up)}
\DoxyCodeLine{140     \textcolor{keywordtype}{id} = \&\mbox{\hyperlink{client__ui_8cpp_adaa9c5d3467b7684da9ecf0cb95473ab}{moveForward}};}
\DoxyCodeLine{141 }
\DoxyCodeLine{142   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_Down )}
\DoxyCodeLine{143     \textcolor{keywordtype}{id} = \&\mbox{\hyperlink{client__ui_8cpp_a61837383098a58ba9a0bd272c13f8d29}{moveBackward}};}
\DoxyCodeLine{144   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_Left)}
\DoxyCodeLine{145     \textcolor{keywordtype}{id} = \&\mbox{\hyperlink{client__ui_8cpp_a24170f23f79cb7e835149360169459f5}{moveLeft}};}
\DoxyCodeLine{146   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(event -\/> keyval == GDK\_KEY\_Right)}
\DoxyCodeLine{147     \textcolor{keywordtype}{id} = \&\mbox{\hyperlink{client__ui_8cpp_ab31c05ec01cddd6149a0c37f5c9bae15}{moveRight}};}
\DoxyCodeLine{148 }
\DoxyCodeLine{149   \textcolor{keywordflow}{if}(\textcolor{keywordtype}{id} != NULL) }
\DoxyCodeLine{150   \{}
\DoxyCodeLine{151     \textcolor{comment}{//lock mutex before updating id. Will wait if mutex is already locked}}
\DoxyCodeLine{152     \textcolor{comment}{//otherwise it will make the threads wait until it is unlocked}}
\DoxyCodeLine{153     pthread\_mutex\_lock(\&\mbox{\hyperlink{client__ui_8cpp_a0abaf4b5d42c4e5d19190035fade3599}{lock}});}
\DoxyCodeLine{154     *\textcolor{keywordtype}{id} = 0;}
\DoxyCodeLine{155 }
\DoxyCodeLine{156     pthread\_mutex\_unlock(\&\mbox{\hyperlink{client__ui_8cpp_a0abaf4b5d42c4e5d19190035fade3599}{lock}});}
\DoxyCodeLine{157   \}}
\DoxyCodeLine{158   \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{159 \}}

\end{DoxyCode}
\mbox{\Hypertarget{client__ui_8cpp_af448fd71359b064e13e85a8cd633f6e5}\label{client__ui_8cpp_af448fd71359b064e13e85a8cd633f6e5}} 
\index{client\_ui.cpp@{client\_ui.cpp}!instruction\_handler@{instruction\_handler}}
\index{instruction\_handler@{instruction\_handler}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{instruction\_handler()}{instruction\_handler()}}
{\footnotesize\ttfamily void$\ast$ instruction\+\_\+handler (\begin{DoxyParamCaption}\item[{void $\ast$}]{varg }\end{DoxyParamCaption})}




\begin{DoxyItemize}
\item threaded function started by key press and exits upon key release 
\end{DoxyItemize}

instruction handler function 
\begin{DoxyParams}{Parameters}
{\em varg} & -\/ this holds the arguments for the command \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{66                                       \{}
\DoxyCodeLine{67   \mbox{\hyperlink{struct__cmd}{COMMAND}} * t\_ins = (\mbox{\hyperlink{struct__cmd}{COMMAND}} *) varg;}
\DoxyCodeLine{68   \mbox{\hyperlink{client__ui_8cpp_afaad9edd01e5eae527aa8b1410917c53}{INSTRUCTION}} ins = t\_ins -\/> ins;}
\DoxyCodeLine{69   pthread\_t *\textcolor{keywordtype}{id} = t\_ins -\/> tid;}
\DoxyCodeLine{70   \textcolor{keywordtype}{char} cins;}
\DoxyCodeLine{71   \textcolor{comment}{//set the lock before checking id, any process about to manipulate the id will hold until mutex is unlocked}}
\DoxyCodeLine{72   pthread\_mutex\_lock(\&\mbox{\hyperlink{client__ui_8cpp_a0abaf4b5d42c4e5d19190035fade3599}{lock}});}
\DoxyCodeLine{73   \textcolor{comment}{//id is the address of a global variable, that stores either 0 or the thread id}}
\DoxyCodeLine{74   \textcolor{keywordflow}{while}(*\textcolor{keywordtype}{id} != 0) \{}
\DoxyCodeLine{75     \textcolor{keywordflow}{if}(ins == \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a6643e048d366f1bf4b295753c3442c18}{ROT\_L}}) \{}
\DoxyCodeLine{76       cins = \textcolor{charliteral}{'a'};}
\DoxyCodeLine{77       \mbox{\hyperlink{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}{client}} -\/> send(\&cins, 1);}
\DoxyCodeLine{78     \}}
\DoxyCodeLine{79     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(ins == \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01af575a864df0da482f318fff12d97c785}{ROT\_R}}) \{}
\DoxyCodeLine{80       cins = \textcolor{charliteral}{'d'};}
\DoxyCodeLine{81       \mbox{\hyperlink{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}{client}} -\/> send(\&cins, 1);}
\DoxyCodeLine{82     \}}
\DoxyCodeLine{83     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(ins == \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a67194eb3d5dd79c61c0b8c29530e7105}{ACC\_R}}) \{}
\DoxyCodeLine{84       cins = \textcolor{charliteral}{'>'};}
\DoxyCodeLine{85       \mbox{\hyperlink{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}{client}} -\/> send(\&cins, 1);}
\DoxyCodeLine{86     \}}
\DoxyCodeLine{87     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(ins == \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01a5895505082ec361adebdce3f503ac04f}{ACC\_L}}) \{}
\DoxyCodeLine{88       cins = \textcolor{charliteral}{'<'};}
\DoxyCodeLine{89       \mbox{\hyperlink{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}{client}} -\/> send(\&cins, 1);}
\DoxyCodeLine{90     \}}
\DoxyCodeLine{91     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(ins == \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01affeb212e39b048286e52f720c6527dbd}{ACC\_F}}) \{}
\DoxyCodeLine{92       cins = \textcolor{charliteral}{'\string^'};}
\DoxyCodeLine{93       \mbox{\hyperlink{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}{client}} -\/> send(\&cins, 1);}
\DoxyCodeLine{94     \}}
\DoxyCodeLine{95     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(ins == \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01aab2e16cd9b0e7d7a0c457bf9426212f2}{ACC\_B}}) \{}
\DoxyCodeLine{96       cins = \textcolor{charliteral}{'b'};}
\DoxyCodeLine{97       \mbox{\hyperlink{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}{client}} -\/> send(\&cins, 1);}
\DoxyCodeLine{98     \}}
\DoxyCodeLine{99     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(ins == \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01ae9ec39715b515cb7a00034bced1c1ad4}{RAISE}}) \{}
\DoxyCodeLine{100       cins = \textcolor{charliteral}{'w'};}
\DoxyCodeLine{101       \mbox{\hyperlink{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}{client}} -\/> send(\&cins, 1);}
\DoxyCodeLine{102     \}}
\DoxyCodeLine{103     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(ins == \mbox{\hyperlink{client__ui_8cpp_a42383c382c136016fc3014fdc708ff01aa1017e9b343135a54a98b6f479354d16}{LOWER}}) \{}
\DoxyCodeLine{104       cins = \textcolor{charliteral}{'s'};}
\DoxyCodeLine{105       \mbox{\hyperlink{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}{client}} -\/> send(\&cins, 1);}
\DoxyCodeLine{106     \}}
\DoxyCodeLine{107     fflush(stdout);}
\DoxyCodeLine{108     \textcolor{comment}{//motors have been adjusted, unlock the mutex and sleep for a 1/4 second}}
\DoxyCodeLine{109     pthread\_mutex\_unlock(\&\mbox{\hyperlink{client__ui_8cpp_a0abaf4b5d42c4e5d19190035fade3599}{lock}});}
\DoxyCodeLine{110     \textcolor{comment}{//put the thread to sleep}}
\DoxyCodeLine{111     timespec time;}
\DoxyCodeLine{112     time.tv\_nsec = 1000000000/8; \textcolor{comment}{//8th of a second (1 billion nanosec in a sec)}}
\DoxyCodeLine{113     nanosleep(\&time, NULL);}
\DoxyCodeLine{114 }
\DoxyCodeLine{115   \}}
\DoxyCodeLine{116   \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{117 \}}

\end{DoxyCode}
\mbox{\Hypertarget{client__ui_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{client__ui_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{client\_ui.cpp@{client\_ui.cpp}!main@{main}}
\index{main@{main}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int \mbox{\hyperlink{classmain}{main}} (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}




\begin{DoxyItemize}
\item the main function which performs the operations required to create the client ui 
\end{DoxyItemize}

the main method 
\begin{DoxyParams}{Parameters}
{\em argc} & -\/ this is the number of arguments present in the command line execution \\
\hline
{\em argv} & -\/ a pointer to the array of arguments \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{296 \{}
\DoxyCodeLine{297   GtkApplication *app;}
\DoxyCodeLine{298   \textcolor{keywordtype}{int} status;}
\DoxyCodeLine{299   std::cout << \textcolor{stringliteral}{"Hello and Welcome to your Drone Controller"} << std::endl;}
\DoxyCodeLine{300   std::cout << \textcolor{stringliteral}{"To start: please ensure the battery is disconnected from the motors and press c on your keyboard!"} << std::endl;}
\DoxyCodeLine{301   }
\DoxyCodeLine{302   \mbox{\hyperlink{client__ui_8cpp_a2eb771fa3527f72e821a14e413498d1d}{print\_instructions}}();}
\DoxyCodeLine{303   \textcolor{comment}{//initialize up mutex lock}}
\DoxyCodeLine{304   \textcolor{keywordflow}{if}(pthread\_mutex\_init(\&\mbox{\hyperlink{client__ui_8cpp_a0abaf4b5d42c4e5d19190035fade3599}{lock}}, NULL) != 0) \{}
\DoxyCodeLine{305     perror(\textcolor{stringliteral}{"Couldn't initialize mutex"});}
\DoxyCodeLine{306     exit(EXIT\_FAILURE);}
\DoxyCodeLine{307   \}}
\DoxyCodeLine{308   \textcolor{comment}{//create the gtk apllication}}
\DoxyCodeLine{309   app = gtk\_application\_new (\textcolor{stringliteral}{"org.app.test"}, G\_APPLICATION\_FLAGS\_NONE);}
\DoxyCodeLine{310   \textcolor{comment}{//connect the activate function}}
\DoxyCodeLine{311   g\_signal\_connect (app, \textcolor{stringliteral}{"activate"}, G\_CALLBACK (\mbox{\hyperlink{client__ui_8cpp_ac8d185b1db8b0153f14fd5cb4537cf2a}{activate}}), NULL);}
\DoxyCodeLine{312   \textcolor{comment}{//run the app}}
\DoxyCodeLine{313   status = g\_application\_run (G\_APPLICATION (app), argc, argv);}
\DoxyCodeLine{314   \textcolor{comment}{//upon closing free the app}}
\DoxyCodeLine{315   g\_object\_unref (app);}
\DoxyCodeLine{316 }
\DoxyCodeLine{317   \textcolor{keywordflow}{return} status;}
\DoxyCodeLine{318 \}}

\end{DoxyCode}
\mbox{\Hypertarget{client__ui_8cpp_a2eb771fa3527f72e821a14e413498d1d}\label{client__ui_8cpp_a2eb771fa3527f72e821a14e413498d1d}} 
\index{client\_ui.cpp@{client\_ui.cpp}!print\_instructions@{print\_instructions}}
\index{print\_instructions@{print\_instructions}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{print\_instructions()}{print\_instructions()}}
{\footnotesize\ttfamily void print\+\_\+instructions (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}




\begin{DoxyItemize}
\item print availible commands 
\end{DoxyItemize}

print instructions function 
\begin{DoxyCode}{0}
\DoxyCodeLine{57                           \{}
\DoxyCodeLine{58     std::cout << \textcolor{stringliteral}{"Controls are as follows:\(\backslash\)n\(\backslash\)ta => Rotate Left\(\backslash\)n\(\backslash\)td => Rotate Right\(\backslash\)n\(\backslash\)tw => Raise\(\backslash\)n\(\backslash\)ts => Lower\(\backslash\)n\(\backslash\)tArrow Left => Move Left\(\backslash\)n\(\backslash\)tArrow Right => Move Right\(\backslash\)n\(\backslash\)tArrow Forward => Move Forward\(\backslash\)n\(\backslash\)tArrow Back => Move Backward\(\backslash\)n\(\backslash\)tc => Calibrate/Initialise\(\backslash\)n\(\backslash\)tx => Turn off motors\(\backslash\)n\(\backslash\)tl => Land\(\backslash\)n\(\backslash\)th => Hover hold (Expiremental!)\(\backslash\)n\(\backslash\)ti => Show instruction list"} << std::endl;}
\DoxyCodeLine{59 \}}

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{client__ui_8cpp_a2a15dfd02dcdec7139f585ff093f2088}\label{client__ui_8cpp_a2a15dfd02dcdec7139f585ff093f2088}} 
\index{client\_ui.cpp@{client\_ui.cpp}!addr@{addr}}
\index{addr@{addr}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{addr}{addr}}
{\footnotesize\ttfamily char addr\mbox{[}13\mbox{]} = \char`\"{}192.\+168.\+4.\+1\char`\"{}}

\mbox{\Hypertarget{client__ui_8cpp_a6d4dd5d08566b9fb2a4655ce7e490025}\label{client__ui_8cpp_a6d4dd5d08566b9fb2a4655ce7e490025}} 
\index{client\_ui.cpp@{client\_ui.cpp}!calibration@{calibration}}
\index{calibration@{calibration}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{calibration}{calibration}}
{\footnotesize\ttfamily int calibration = 0}

\mbox{\Hypertarget{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}\label{client__ui_8cpp_a0388c33353644129ea9403f0a5a8ed24}} 
\index{client\_ui.cpp@{client\_ui.cpp}!client@{client}}
\index{client@{client}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{client}{client}}
{\footnotesize\ttfamily \mbox{\hyperlink{classClient}{Client}}$\ast$ client = new \mbox{\hyperlink{classClient}{Client}}(8080, \mbox{\hyperlink{client__ui_8cpp_a2a15dfd02dcdec7139f585ff093f2088}{addr}})}

\mbox{\Hypertarget{client__ui_8cpp_a0abaf4b5d42c4e5d19190035fade3599}\label{client__ui_8cpp_a0abaf4b5d42c4e5d19190035fade3599}} 
\index{client\_ui.cpp@{client\_ui.cpp}!lock@{lock}}
\index{lock@{lock}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{lock}{lock}}
{\footnotesize\ttfamily pthread\+\_\+mutex\+\_\+t lock}

\mbox{\Hypertarget{client__ui_8cpp_a869b58af2dc776cd009ac76a6ae5a42d}\label{client__ui_8cpp_a869b58af2dc776cd009ac76a6ae5a42d}} 
\index{client\_ui.cpp@{client\_ui.cpp}!lower@{lower}}
\index{lower@{lower}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{lower}{lower}}
{\footnotesize\ttfamily pthread\+\_\+t lower = 0}

\mbox{\Hypertarget{client__ui_8cpp_a61837383098a58ba9a0bd272c13f8d29}\label{client__ui_8cpp_a61837383098a58ba9a0bd272c13f8d29}} 
\index{client\_ui.cpp@{client\_ui.cpp}!moveBackward@{moveBackward}}
\index{moveBackward@{moveBackward}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{moveBackward}{moveBackward}}
{\footnotesize\ttfamily pthread\+\_\+t move\+Backward = 0}

\mbox{\Hypertarget{client__ui_8cpp_adaa9c5d3467b7684da9ecf0cb95473ab}\label{client__ui_8cpp_adaa9c5d3467b7684da9ecf0cb95473ab}} 
\index{client\_ui.cpp@{client\_ui.cpp}!moveForward@{moveForward}}
\index{moveForward@{moveForward}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{moveForward}{moveForward}}
{\footnotesize\ttfamily pthread\+\_\+t move\+Forward = 0}

\mbox{\Hypertarget{client__ui_8cpp_a24170f23f79cb7e835149360169459f5}\label{client__ui_8cpp_a24170f23f79cb7e835149360169459f5}} 
\index{client\_ui.cpp@{client\_ui.cpp}!moveLeft@{moveLeft}}
\index{moveLeft@{moveLeft}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{moveLeft}{moveLeft}}
{\footnotesize\ttfamily pthread\+\_\+t move\+Left = 0}

\mbox{\Hypertarget{client__ui_8cpp_ab31c05ec01cddd6149a0c37f5c9bae15}\label{client__ui_8cpp_ab31c05ec01cddd6149a0c37f5c9bae15}} 
\index{client\_ui.cpp@{client\_ui.cpp}!moveRight@{moveRight}}
\index{moveRight@{moveRight}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{moveRight}{moveRight}}
{\footnotesize\ttfamily pthread\+\_\+t move\+Right = 0}

\mbox{\Hypertarget{client__ui_8cpp_abbc25cf9b87d0d6e4b01d52c6bf3fe0c}\label{client__ui_8cpp_abbc25cf9b87d0d6e4b01d52c6bf3fe0c}} 
\index{client\_ui.cpp@{client\_ui.cpp}!rotateL@{rotateL}}
\index{rotateL@{rotateL}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{rotateL}{rotateL}}
{\footnotesize\ttfamily pthread\+\_\+t rotateL = 0}

\mbox{\Hypertarget{client__ui_8cpp_a86a477086cc43e84ea4c0d2ee883a4ce}\label{client__ui_8cpp_a86a477086cc43e84ea4c0d2ee883a4ce}} 
\index{client\_ui.cpp@{client\_ui.cpp}!rotateR@{rotateR}}
\index{rotateR@{rotateR}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{rotateR}{rotateR}}
{\footnotesize\ttfamily pthread\+\_\+t rotateR = 0}

\mbox{\Hypertarget{client__ui_8cpp_abf637c999af38140b0f56d012a70ed6a}\label{client__ui_8cpp_abf637c999af38140b0f56d012a70ed6a}} 
\index{client\_ui.cpp@{client\_ui.cpp}!up@{up}}
\index{up@{up}!client\_ui.cpp@{client\_ui.cpp}}
\doxysubsubsection{\texorpdfstring{up}{up}}
{\footnotesize\ttfamily pthread\+\_\+t up = 0}

